
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


<div id="app">
    <table>
        <thead>
            <tr>
                <th>姓名</th>
                <th>性别</th>
                <th>头像</th>
                <th>部门</th>
                <th>等级</th>
                <th>开始时间</th>
                <th>最后时间</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="emp in empList" >
                <td>{{ emp.name }}</td>
                <td>{{ emp.gender === 1 ? '男' : '女' }}</td>
                <td><img :src="emp.image" alt="头像" width="70" height="50"></td>
                <td>{{ emp.deptId }}</td>
                <td>{{ emp.job }}</td>
                <td>{{ emp.entryDate }}</td>
                <td>{{ emp.updateTime }}</td>
                <td>
                    <button class="btn btn-primary" @click="openEditDialog(emp)">编辑</button>
                    <button class="btn btn-danger" @click="deleteEmp(emp)">删除</button>
                </td>
    </table>
</div>
<script>
new Vue({
    el: '#app',
    data: {
        empList: [],
        dialogVisible: false,
    },
    created() {
        this.loadEmpList();
    },
    methods: {
        loadEmpList() {
            axios.get('/emps').then(res => {
                if (res.data.code === 1) {
                    this.empList = res.data.data.rows;
                }
            });
        },
    }
});
</script>